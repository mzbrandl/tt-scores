(this["webpackJsonptt-scores"]=this["webpackJsonptt-scores"]||[]).push([[0],{127:function(e,t,a){e.exports={App:"App_App__333Fr"}},142:function(e,t,a){e.exports=a(270)},147:function(e,t,a){},26:function(e){e.exports=JSON.parse('["Cheezy","Consti","Marcel","Moritz","Simon"]')},270:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),c=(a(147),a(134)),i=a(16),s=a(93),u=a.n(s);a(148);u.a.initializeApp({apiKey:"AIzaSyCzZBaZdVwZ9dj_wqJ2cum1LfXVh0ucEFk",authDomain:"tt-scores-1595920568034.firebaseapp.com",databaseURL:"https://tt-scores-1595920568034.firebaseio.com",projectId:"tt-scores-1595920568034",storageBucket:"tt-scores-1595920568034.appspot.com",messagingSenderId:"429581450020",appId:"1:429581450020:web:b9b8fe7c58c9bcc8ff91b1"});var m=u.a,d=a(127),p=a.n(d),f=a(293),E=a(295),b=a(303),v=a(296),g=a(26),h=a(33),w=a.n(h);function S(){var e=n.useState(""),t=Object(i.a)(e,2),a=t[0],r=t[1],l=n.useState(""),o=Object(i.a)(l,2),c=o[0],s=o[1],u=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:200,backgroundColor:"white",borderRadius:4},selectEmpty:{marginTop:e.spacing(2)}}}))();return n.createElement("div",{className:w.a.demoWrapper},n.createElement("div",{className:w.a.addGame},n.createElement("h2",{className:w.a.label},"Winner"),n.createElement("div",null),n.createElement("h2",{className:w.a.label},"Looser"),n.createElement(E.a,{variant:"outlined",className:u.formControl},n.createElement(b.a,{native:!0,value:a,onChange:function(e){return r(e.target.value)}},n.createElement("option",{value:""},"Select player"),g.filter((function(e){return!c||e!==c})).map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),n.createElement("h2",null,"VS"),n.createElement(E.a,{variant:"outlined",className:u.formControl},n.createElement(b.a,{native:!0,value:c,onChange:function(e){return s(e.target.value)}},n.createElement("option",{value:""},"Select player"),g.filter((function(e){return!a||e!==a})).map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),n.createElement("div",{className:w.a.submit},n.createElement(v.a,{className:w.a.button,color:"primary",variant:"contained",onClick:function(){var e={winner:a,looser:c,date:Date.now()};m.firestore().collection("games").add(e),r(""),s("")},disabled:!(a&&c)},"Save Game"))))}var _=a(297),y=a(298),C=a(299),k=a(300),j=a(301),O=a(302),N=a(304),W=a(131),A=a.n(W),P=Object(f.a)({table:{maxWidth:600,margin:"auto"}});function G(e){var t=e.games.sort((function(e,t){return t.date-e.date})),a=P(),r=n.useState(0),l=Object(i.a)(r,2),o=l[0],c=l[1],s=n.useState(5),u=Object(i.a)(s,2),m=u[0],d=u[1];Math.min(m,t.length-o*m);return n.createElement(n.Fragment,null,n.createElement("h3",null,"Latest games"),n.createElement(_.a,{className:a.table,size:"small","aria-label":"simple table"},n.createElement(y.a,null,n.createElement(C.a,null,n.createElement(k.a,null,n.createElement("b",null,"Date")),n.createElement(k.a,null,n.createElement("b",null,"Winner")),n.createElement(k.a,null,n.createElement("b",null,"Looser")))),n.createElement(j.a,null,(m>0?t.slice(o*m,o*m+m):t).map((function(e){return n.createElement(C.a,{key:e.date},n.createElement(k.a,{component:"th",scope:"row"},new Date(e.date).toLocaleString()),n.createElement(k.a,null,e.winner),n.createElement(k.a,null,e.looser))}))),n.createElement(O.a,null,n.createElement(C.a,null,n.createElement(N.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:t.length,rowsPerPage:m,page:o,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){c(t)},onChangeRowsPerPage:function(e){d(parseInt(e.target.value,10)),c(0)},ActionsComponent:A.a})))))}var x=a(132),T=a(75),L=a.n(T);function z(e){var t=e.games,a=Object(n.useState)(""),r=Object(i.a)(a,2),l=r[0],o=r[1],c=function(e,t){var a=g.filter((function(e){return e!==t})).map((function(a){return e.reduce((function(e,n){return t===n.winner&&a===n.looser&&e++,e}),0)})),n=g.filter((function(e){return e!==t})).map((function(a){return e.reduce((function(e,n){return t===n.looser&&a===n.winner&&e++,e}),0)}));return{labels:g.filter((function(e){return e!==t})),datasets:[{label:"Wins",backgroundColor:"rgb(78, 207, 113)",barThickness:"flex",data:a},{label:"Losses",backgroundColor:"rgb(255, 99, 132)",barThickness:"flex",data:n}]}}(t,l),s=function(e,t){var a=e.reduce((function(e,a){return t===a.winner&&e++,e}),0),n=e.reduce((function(e,a){return t===a.looser&&e++,e}),0);return{wins:a,losses:n,total:a+n,quota:0!==n?a/n:0}}(t,l),u=Object(f.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,maxWidth:200,backgroundColor:"white",borderRadius:4},selectEmpty:{marginTop:e.spacing(2)}}}))();return n.createElement(n.Fragment,null,n.createElement("h3",null,"Player stats"),n.createElement("div",{className:L.a.playerStats},n.createElement("div",{className:L.a.row},n.createElement(E.a,{variant:"outlined",className:u.formControl},n.createElement(b.a,{native:!0,value:l,onChange:function(e){o(e.target.value),setTimeout((function(){return window.scrollTo(0,document.body.scrollHeight)}),100)}},n.createElement("option",{value:""},"Select player"),g.map((function(e,t){return n.createElement("option",{key:t,value:e},e)})))),l&&n.createElement("div",{className:L.a.statGrid},n.createElement("div",null,"Wins: ",s.wins),n.createElement("div",null,"Total: ",s.total),n.createElement("div",null,"Losses: ",s.losses),n.createElement("div",null,"Quota: ",s.quota.toFixed(2)))),l&&n.createElement(x.a,{data:c,width:600,options:{maintainAspectRatio:!1}})))}var I=function(){var e=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){m.firestore().collection("games").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(c.a)({},e.data())}));r(t)}))}),[]),a}();return r.a.createElement("div",{className:p.a.App},r.a.createElement("h1",null,"TT-Scores"),r.a.createElement(S,null),r.a.createElement(G,{games:e}),r.a.createElement(z,{games:e}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},33:function(e,t,a){e.exports={addGame:"AddGame_addGame__SXKXH",label:"AddGame_label__1WXOB",submit:"AddGame_submit__2cHjd",button:"AddGame_button__Sk9u9",demoWrapper:"AddGame_demoWrapper__1d-nE"}},75:function(e,t,a){e.exports={playerStats:"PlayerStats_playerStats__2pTaz",row:"PlayerStats_row__24thP",statGrid:"PlayerStats_statGrid__2ufms"}}},[[142,1,2]]]);
//# sourceMappingURL=main.cce6049c.chunk.js.map